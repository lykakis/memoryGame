<!DOCTYPE html>
<html>
<head>
  <title> Puppy Memory Game </title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="css/cool.css">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container RedBox" >

        <h2 class="border" align="center">
          <br>  <button id="btn" type="button" onclick="newStart()"> New Start   </button>
        </h2>


          <div class="row ">
                   <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                  <div class="card"><img id="0" src="images/back.jpg" height="180" width="130"></div>
                   </div>
                   <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                   <div class="card"><img id="1" src="images/back.jpg" height="180" width="130"></div>
                   </div>
                   <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                   <div class="card"><img id="2" src="images/back.jpg" height="180" width="130"></div>
                   </div>
                   <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                   <div class="card"><img id="3" src="images/back.jpg" height="180" width="130"></div>
                   </div>
                   <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="4" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="5" src="images/back.jpg" height="180" width="130"></div>
                    </div>
         </div>
        <div class="row ">
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="6" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="7" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="8" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="9" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="10" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="11" src="images/back.jpg" height="180" width="130"></div>
                    </div>
        </div>


        <div class="row ">
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="12" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="13" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="14" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="15" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="16" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="17" src="images/back.jpg" height="180" width="130"></div>
                    </div>

        </div>
      <div class="row ">
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="18" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="19" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="20" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="21" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="22" src="images/back.jpg" height="180" width="130"></div>
                    </div>
                    <div class="col-xs-5 col-sm-4 col-md-2 col-lg-2 top-buffer" >
                    <div class="card"><img id="23" src="images/back.jpg" height="180" width="130"></div>
                    </div>

      </div>



</div>

      <script language="javascript">


      var changed=0;
      var opened=[];
      var ids=[];
      //Count correct changes
      var counter=0;

      //Returns an 24 length array with random numbers from 0 to 23
      function sufle(){
        var a = [];
          for(var k=0;k<24;k++){
            a[k]=k;
          }
        var j, x, i;
          for (i = a.length - 1; i > 0; i--) {
              j = Math.floor(Math.random() * (i + 1));
              x = a[i];
              a[i] = a[j];
              a[j] = x;
          }
          return a;
      }
      var randomArray = sufle();

      //Functions that make enable and disable to click the images.
      function disable(){
          for(var i=0;i<24;i++){
        document.getElementById(i).classList.add('disabled');
          }
      }
      function enable(){
          for(var i=0;i<24;i++){
        document.getElementById(i).classList.remove('disabled');
          }
      }


        //A function that suffle the array which holds the cards for a new game
        //Turns back the cards
        //Empty the temporary arrays and the counter
        function newStart(){
            randomArray = sufle();
            for(var i=0; i<24;i++){
                document.getElementById(i).src ="images/back.jpg" ;
            }
            ids = [];
            opened = [];
            counter=0;
        }

        //Function that opens, and checks similar images.
        function open(currentId){
            opened.push(randomArray[currentId]);
            ids.push(currentId);
            document.getElementById(currentId).src ="images/puppy"+randomArray[currentId]+".jpg" ;

            if(opened.length==2){
                if(randomArray[currentId]<12){
                        if(randomArray[currentId]+12==opened[0]){

                                ids = [];
                                opened = [];
                                counter++;

                                if(counter==12){
                                    if (confirm('Congratulations !! Start a new game?')) {
                                            newStart();
                                            } else {
                                                // Do nothing!
                                            }
                                        }
                        }else {
                            disable();

                             setTimeout(function(){

                                document.getElementById(ids[0]).src ="images/back.jpg" ;
                                document.getElementById(ids[1]).src ="images/back.jpg" ;
                                enable();
                                ids = [];
                                opened = [];
                                },1100);

                        }
                }else{
                    if(randomArray[currentId]-12==opened[0]){

                        ids = [];
                        opened = [];
                        counter++;
                        if(counter==12){
                            if (confirm('Congratulations !! Start a new game?')) {
                                    newStart();
                                    } else {
                                        // Do nothing!
                                    }
                                }
                    }else {
                        disable();

                         setTimeout(function(){

                            document.getElementById(ids[0]).src ="images/back.jpg" ;
                            document.getElementById(ids[1]).src ="images/back.jpg" ;
                            enable();
                            ids = [];
                            opened = [];
                            },1100);
                    }
                }
            }
        }

        //Insert eventListener in every image.
        for (var i = 0; i < 24; i++){
        (function (i) {
       document.getElementById(i).addEventListener("click",function() {open(i); });
      }(i));
      }



      </script>
</body>
</html>
